"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[700],{1687:function(e,n,t){var r=t(5861),a=t(7757),c=t.n(a),o=t(5294);o.Z.defaults.baseURL="https://api.themoviedb.org/";var u="48b2bba5f96af80717b061a99685cb65",i=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/3/trending/movie/day?language=en-US&api_key=".concat(u),{signal:n.signal});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/3/search/movie?query=".concat(n,"&include_adult=false&language=en-US&page=1&api_key=").concat(u),{signal:t.signal});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/3/movie/".concat(n,"?language=en-US&api_key=").concat(u),{signal:t.signal});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/3/movie/".concat(n,"/credits?language=en-US&api_key=").concat(u),{signal:t.signal});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/3/movie/".concat(n,"/reviews?language=en-US&page=1&api_key=").concat(u),{signal:t.signal});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),d={fetchTrendsMovies:i,fetchSearchMovie:s,fetchMovieDetails:l,fetchMovieActors:p,fetchMovieReviews:f};n.Z=d},3174:function(e,n,t){t.d(n,{Z:function(){return f}});var r,a,c=t(7689),o=t(168),u=t(1087),i=t(5867),s=i.ZP.ul(r||(r=(0,o.Z)(["\n  margin-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),l=(0,i.ZP)(u.OL)(a||(a=(0,o.Z)(["\n  &:hover {\n    color: #f5a142;\n  }\n"]))),p=t(184),f=function(e){var n=e.films,t=(0,c.TH)();return(0,p.jsx)(s,{children:n.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(l,{to:"/movies/:".concat(e.id),state:{from:t},children:e.original_title})},e.id)}))})}},7700:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,a,c,o,u=t(5861),i=t(9439),s=t(7757),l=t.n(s),p=t(2791),f=t(1087),d=t(5218),v=t(1687),h=t(168),g=t(5867),x=g.ZP.form(r||(r=(0,h.Z)(["\n  /* padding: 8px; */\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-width: 420px;\n"]))),m=g.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px;\n  width: 240px;\n  background-color: transparent;\n  &:hover,\n  &:focus,\n  &:active {\n    border-color: #f5a142;\n  }\n"]))),Z=g.ZP.button(c||(c=(0,h.Z)(["\n  padding: 8px;\n  width: 240px;\n  background-color: transparent;\n  border: 1px solid black;\n  &:hover,\n  &:focus,\n  &:active {\n    border-color: #f5a142;\n  }\n"]))),b=t(184),w=function(e){var n=e.onSubmit;return(0,b.jsxs)(x,{onSubmit:function(e){return n(e)},children:[(0,b.jsx)(m,{type:"text",name:"film",autoComplete:"off",autoFocus:!0,placeholder:"Write to search movie..."}),(0,b.jsx)(Z,{type:"submit",children:"Search"})]})},y=t(3174),k=t(5510),E=g.ZP.section(o||(o=(0,h.Z)(["\n  padding: 16px;\n"]))),S=function(){var e,n=(0,p.useState)([]),t=(0,i.Z)(n,2),r=t[0],a=t[1],c=(0,p.useState)(!1),o=(0,i.Z)(c,2),s=o[0],h=o[1],g=(0,p.useState)(!1),x=(0,i.Z)(g,2),m=x[0],Z=x[1],S=(0,f.lr)(),_=(0,i.Z)(S,2),C=_[0],R=_[1],j=null!==(e=C.get("query"))&&void 0!==e?e:"";(0,p.useEffect)((function(){if(""!==j){var e=new AbortController,n=function(){var n=(0,u.Z)(l().mark((function n(){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,h(!0),n.next=4,v.Z.fetchSearchMovie(j,e);case 4:if(void 0!==(t=n.sent)){n.next=9;break}return n.abrupt("return");case 9:if(0!==t.results.length){n.next=11;break}return n.abrupt("return",d.ZP.error("Sorry, we didn't find any movie. Please, try to write another one."));case 11:a(t.results),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),"ERR_CANCELED"!==n.t0.code&&(Z(!0),console.log(n.t0.message));case 17:return n.prev=17,h(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,14,17,20]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e.abort()}}}),[j]);return(0,b.jsxs)(E,{children:[(0,b.jsx)(w,{onSubmit:function(e){e.preventDefault();var n=e.target.elements.film.value.trim();if(""===n)return d.ZP.error("Sorry, we can't submit empty request. Please, write what You want to search.");R({query:n}),a([]),e.target.reset()}}),r.length>0&&(0,b.jsx)(y.Z,{films:r}),s&&(0,b.jsx)(k.Z,{loading:s}),m&&(0,b.jsx)("p",{children:"Sorry, something went wrong. Please, try to update page."})]})}}}]);
//# sourceMappingURL=700.c50d034e.chunk.js.map